<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>User List</title>
    <style>
        table {
            border-collapse: collapse;
            width: 40%;
            margin-left: auto;
            margin-right: auto;
        }

        p {
            font-size: 11px;
            color: rgb(234, 49, 49);
        }

        .table1 {
            border: 2px;
        }

        .prev {
            float: left;
            margin-top: 10px;
            background-color: #1f6a4f;
            border: none;
            color: white;
            padding: 10px 17px;
            text-align: center;
            border-radius: 5px;
            position: absolute;
            left: 500px;
            top: 490px;
        }
        .save{
            background-color: #1f6a4f;
            border: none;
            color: white;
            padding: 10px 17px;
            text-align: center;
            border-radius: 5px;
            position: absolute;
            top: 500px;
            left: 600px;

        }
        .next {
            float: right;
            /* margin-top: 10px; */
            background-color: #1f6a4f;
            border: none;
            color: white;
            padding: 10px 17px;
            text-align: center;
            border-radius: 5px;
            position: absolute;
            left: 700px;
            top: 500px;
        }


        .container {
            padding-left: 92%;
        }

      .hidden{
        display: none;
      }
      .visible{
        display: block;
      }
      .step {
        height: 15px;
        width: 15px;
        margin: 0 2px;
        background-color: #1f6a4f;
        border: none;  
        border-radius: 50%;
        display: inline-block;
        opacity: 0.5;
        
        }

        .step.active {
        opacity: 1;
        }

        .step.finish {
        background-color: #99f0d1;
        }
    </style>
</head>

<body>
    <!-- <h2>Suvarna Srayshi Sinha</h2> -->
    <center>Suvarna Srayshi Sinha || 24DEV082</center>
    <h3 style="color: #1f6a4f">USER FORM</h3>
       <!-- Circles which indicates the steps of the form: -->
  <div style="text-align:center;margin-top:40px;">
    <span class="step"></span>
    <span class="step"></span>
    <span class="step"></span>
    <span class="step"></span>
    <span class="step"></span>
    <span class="step"></span>
    <span class="step"></span>
  </div>
    <div class="table1">
        <form action="/detailajax" method="post" name="form" id="myform" onclick="return validate()">
            <!--  -->
            <div class="basicdetail tab visible">
                <fieldset>
                      <legend style="color: #1f6a4f;">BASIC DETAILS</legend>
                    <table style="width: 90%">
                        <tr>
                            <td>
                                <label for="fname">First name:</label>
                                <input type="text" id="fname" name="fname" />
                                <p id="fnamein"></p>
                            </td>

                            <td>
                                <label for="lname">Last name:</label>
                                <input type="text" id="lname" name="lname" />
                                <p id="lnamein"></p>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <label for="designation">Designation:</label>
                                <input type="text" id="designation" name="designation" />
                                <p id="designationin"></p>
                            </td>
                            <td>
                                <label for="Address1">Address1:</label>
                                <input type="text" id="address" name="address" />
                                <p id="addressin"></p>
                            </td>
                        </tr>

                        <tr>
                            <td>
                                <label for="email">Email:</label>
                                <input type="text" name="email" id="email" />
                                <p id="emailin"></p>
                            </td>
                            <td>
                                <label for="Address2">Address2:</label>
                                <input type="text" id="address2" name="address2" />
                                <p id="addressin2"></p>
                            </td>
                        </tr>

                        <tr>
                            <td>
                                <label for="phonenumber">Phone number:</label>
                                <input type="text" name="phone" id="phone" />
                                <p id="phonein"></p>
                            </td>

                            <td>
                                <label for="City">City:</label>
                                <input type="text" id="city" name="city" />
                                <p id="cityin"></p>
                            </td>
                        </tr>

                        <tr>
                            <td>
                                <label for="gender">Gender</label>
                                <input type="radio" name="gender" id="male" value="male" />Male
                                <input type="radio" name="gender" id="female" value="female" />Female
                                <p id="genderin"></p>
                            </td>
                            <td>
                                <label for="state">State</label>
                                <select id="state" name="state">
                                    <option value="Gujarat" name="Gujarat">Gujarat</option>
                                    <option value="Delhi" name="Delhi">Delhi</option>
                                    <option value="maharastra">maharastra</option>
                                    <option value="assam">assam</option>
                                </select><br />
                                <br />
                            </td>
                        </tr>

                        <tr>
                            <td>
                                <label for="relationship">Relationship Status</label>
                                <select id="relationship" name="relationship">
                                    <option value="single" name="single">single</option>
                                    <option value="married" name="married">married</option>
                                </select>
                            </td>
                            <td>
                                <label for="zip code">Zip code:</label>
                                <input type="text" id="zipcode" name="zipcode" />
                                <p id="zipcodein"></p>
                                <br />
                                <br />
                            </td>
                        </tr>

                        <tr>
                            <td>
                                <label for="dob">Date Of Birth</label>
                                <input type="date" id="dob" name="dob" />
                                <p id="dobin"></p>
                            </td>
                        </tr>
                    </table>
                </fieldset>
            </div>
            <div class="educationdetail tab hidden">
                <fieldset>
                      <legend style="color: #1f6a4f;"> EDUCATION</legend>

                    <div class="container">
                        <input type="button" class="button" id="plusbtn" value="+" onclick="eduplus()">
                        <input type="button" class="button" id="minusbtn" value="-" onclick="edusub()">
                    </div>
                    <div class="row2">
                        <div>
                            <td>
                                <select id="education" name="education[]">
                                    <option value="SSC" name="SSC">SSC</option>
                                    <option value="HSC" name="HSC">HSC</option>
                                    <option value="Bachelors" name="Bachelors">Bachelors</option>
                                    <option value="Masters" name="Masters">Masters</option>
                                    <option value="PHD" name="PHD">PHD</option>

                                </select>
                            </td>
                            <label for="board">Name of the Board</label>
                            <input type="text" id="board" name="board[]" placeholder="enter board here">
                            <label for="passingyear">Passing Year</label>
                            <input type="date" id="passingyear" name="passingyear[]"
                                placeholder="enter passingyear here">
                            <label for="percentage">Percentage:</label>
                            <input type="text" id="percentage" name="percentage[]" placeholder="enter percentage here">
                            <br>
                            <hr>
                        </div>
                    </div>
                </fieldset>
            </div>
            <div class="experience tab hidden">
                <fieldset>
                      <legend style="color: #1f6a4f;">WORK EXPERIENCE</legend>
                    <div class="container">
                        <input type="button" class="button" id="plusbtn" value="+" onclick="explus()">
                        <input type="button" class="button" id="minusbtn" value="-" onclick="exsub()">
                    </div>
                    <div class="row1">
                        <div>
                            <label for="Company Name">Company Name</label>
                            <input type="text" id="CompanyName" name="CompanyName[]">
                            <label for="designation">Designation:</label>
                            <input type="text" id="designation1" name="designation1[]">
                            <label for="From">From</label>
                            <input type="text" id="From1" name="From1[]">
                            <label for="To">To</label>
                            <input type="text" id="To1" name="To1[]">
                            <br> <br>
                        </div>

                    </div>

                </fieldset>
            </div>

            <table style="width:100%">
                <tr>
                    <td>
                        <div class="language tab hidden">
                            <fieldset>
                                  <legend style="color: #1f6a4f;">LANGUAGE KNOWN</legend>
                                <table style="width:90%">
                                    <tr>
                                        <td>
                                            <input type="checkbox" id="hindi" name="hindi" value="hindi"><label
                                                for="hindi">HINDI</label>
                                        </td>
                                        <td>

                                            <input type="checkbox" id="hindi_r" name="hindi_r">
                                            <label for="hindi_r">READ</label>
                                        </td>
                                        <td>
                                            <input type="checkbox" id="hindi_w" name="hindi_w">
                                            <label for="hindi_w">WRITE</label>
                                        </td>
                                        <td>
                                            <input type="checkbox" id="hindi_s" name="hindi_s">
                                            <label for="hindi_s">SPEAK</label>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td>
                                            <input type="checkbox" id="english" name="english" value="english"><label
                                                for="english">ENGLISH</label>
                                        </td>
                                        <td>
                                            <input type="checkbox" id="english_r" name="english_r">
                                            <label for="english_r">READ</label>
                                        </td>
                                        <td>
                                            <input type="checkbox" id="english_w" name="english_w">
                                            <label for="english_w">WRITE</label>
                                        </td>
                                        <td>
                                            <input type="checkbox" id="english_s" name="english_s">
                                            <label for="english_s">SPEAK</label>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td>
                                            <input type="checkbox" id="gujarati" name="gujarati" value="gujarati"><label
                                                for="gujarati">GUJARATI</label>
                                        </td>
                                        <td>
                                            <input type="checkbox" id="gujarati_r" name="gujarati_r">
                                            <label for="gujarati_r">READ</label>
                                        </td>
                                        <td>
                                            <input type="checkbox" id="gujarati_w" name="gujarati_w">
                                            <label for="gujarati_w">WRITE</label>
                                        </td>
                                        <td>
                                            <input type="checkbox" id="gujarati_s" name="gujarati_s">
                                            <label for="gujarati_s">SPEAK</label>
                                        </td>
                                    </tr>
                                </table>
                            </fieldset>
                        </div>
                    </td>

                    <td>
                        <div class="technology tab hidden">
                            <fieldset>
                                  <legend style="color: #1f6a4f;">TECHNOLOGY YOU KNOW</legend>
                                <table style="width:90%">
                                    <tr>
                                        <td>
                                            <input type="checkbox" id="php" name="php" value="php"><label
                                                for="php">PHP</label>
                                        </td>
                                        <td>
                                            <input type="radio" name="tphp" id="begineer" value="begineer"><label
                                                for="mediator">BEGINEER</label>

                                        </td>
                                        <td>
                                            <input type="radio" name="tphp" id="mediator" value="mediator"><label
                                                for="mediator">MEDIATOR</label>

                                        </td>
                                        <td>
                                            <input type="radio" name="tphp" id="expert" value="expert"><label
                                                for="expert">EXPERT</label>

                                        </td>
                                    </tr>

                                    <tr>
                                        <td>
                                            <input type="checkbox" id="oracle" name="oracle" value="oracle"><label
                                                for="oracle">ORACLE</label>
                                        </td>
                                        <td>
                                            <input type="radio" name="toracle" id="begineer" value="begineer"><label
                                                for="mediator">BEGINEER</label>

                                        </td>
                                        <td>
                                            <input type="radio" name="toracle" id="mediator" value="mediator"><label
                                                for="mediator">MEDIATOR</label>

                                        </td>
                                        <td>
                                            <input type="radio" name="toracle" id="expert" value="expert"><label
                                                for="expert">EXPERT</label>

                                        </td>
                                    </tr>

                                    <tr>
                                        <td>
                                            <input type="checkbox" id="mysql" name="mysql" value="mysql"><label
                                                for="mysql">MYSQL</label>
                                        </td>
                                        <td>
                                            <input type="radio" name="tmysql" id="begineer" value="begineer"><label
                                                for="mediator">BEGINEER</label>

                                        </td>
                                        <td>
                                            <input type="radio" name="tmysql" id="mediator" value="mediator"><label
                                                for="mediator">MEDIATOR</label>

                                        </td>
                                        <td>
                                            <input type="radio" name="tmysql" id="expert" value="expert"><label
                                                for="expert">EXPERT</label>

                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <input type="checkbox" id="laravel" name="laravel" value="laravel"><label
                                                for="laravel">LARAVEL</label>
                                        </td>
                                        <td>
                                            <input type="radio" name="tlaravel" id="begineer" value="begineer"><label
                                                for="mediator">BEGINEER</label>

                                        </td>
                                        <td>
                                            <input type="radio" name="tlaravel" id="mediator" value="mediator"><label
                                                for="mediator">MEDIATOR</label>

                                        </td>
                                        <td>
                                            <input type="radio" name="tlaravel" id="expert" value="expert"><label
                                                for="expert">EXPERT</label>

                                        </td>
                                    </tr>
                                </table>
                            </fieldset>
                        </div>
                    </td>
                </tr>
            </table>
            <div class="referance tab hidden">
                <fieldset>
                    <legend style="color: #1f6a4f;">REFRENCE CONTACT</legend>
                    <div class="container">
                        <input type="button" class="button" id="plusbtn" value="+" onclick="plus()">
                        <input type="button" class="button" id="minusbtn" value="-" onclick="sub()">
                    </div>
                    <div class="row">
                        <div>

                            <label for="Name">Name</label>
                            <input type="text" id="nameref" name="nameref[]">
                            <label for="Contact number">Contact number:</label>
                            <input type="text" id="Contactnumber" name="Contactnumber[]">
                            <label for="Relation">Relation</label>
                            <input type="text" id="Relation" name="Relation[]"><br>
                        </div>

                    </div>

                </fieldset>
            </div>
            <div class="preferance tab hidden">
                <fieldset style=" margin:0;">
                      <legend style="color: #1f6a4f;">PREFERANCES</legend>
                    <table style="width:90%">
                        <tr>
                            <td>
                                <label for="location">Preferd location</label>
                                <select id="location" name="location">
                                    <option value="Gujarat" name="Gujarat">Gujarat</option>
                                    <option value="Delhi" name="Delhi">Delhi</option>
                                </select>
                            </td>
                            <td><label for="notice">Notice period</label>
                                <input type="text" id="notice" name="notice">
                            </td>
                            <td>
                                <label for="department">Department</label>
                                <select id="department" name="department">
                                    <option value="Development" name="Development">Development</option>
                                    <option value="Design marketing" name="Design marketing">Design marketing</option>
                            </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td><label for="expactedCTC">Expacted CTC</label>
                                <input type="text" id="expactedCTC" name="expactedCTC">
                            </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td><label for="currentCTC">Current CTC</label>
                                <input type="text" id="currentCTC" name="currentCTC">
                            </td>

                        </tr>

                    </table>
                </fieldset>
            </div>
            <input type="button" value="Save" id="savebutton" class="save" onclick="submitdata()" style="display: none;">
            <input type="button" value="pervious" class="prev" id="prevbutton" onclick="prev()" style="display: none;"/>
            <input type="button" value="next" class="next" id="nextbutton" onclick="next()"/>
            <div id="detailrender">
               
            </div>
        </form>
    </div>

 

    <script>
        function validate() {
            let fname = document.querySelector("#fname").value;
            console.log(fname);
            var name = document.getElementById("fnamein");
            if (fname == "") {
                fnamein.innerHTML = "<p>please enter the details here</p>";
                return false;
            } else if (!/^[A-Za-z]+$/.test(fname)) {
                fnamein.innerHTML = "<p>please enter correct name</p>";
                return false;
            }

            let lname = document.querySelector("#lname").value;
            console.log(lname);
            var name = document.getElementById("lnamein");
            if (lname == "") {
                lnamein.innerHTML = "<p>please enter the last name here</p>";
                return false;
            } else if (!/^[A-Za-z]+$/.test(lname)) {
                lnamein.innerHTML = "<p>please enter correct last name</p>";
                return false;
            }
            let designation = document.querySelector("#designation").value;
            console.log(designation);
            var name = document.getElementById("designationin");
            if (designation == "") {
                designationin.innerHTML = "<p>please enter the details here</p>";
                return false;
            } else if (!/^[A-Za-z]+$/.test(designation)) {
                designation.innerHTML = "<p>please enter correct designation</p>";
                return false;
            }

            let phone = document.querySelector("#phone").value;
            console.log(phone);
            var name = document.getElementById("phonein");
            if (phone == "") {
                phonein.innerHTML = "<p>please enter the phone number here</p>";
                return false;
            } else if (!/^\(?([0-9]{3})\)?([0-9]{3})?([0-9]{4})$/.test(phone)) {
                phonein.innerHTML = "<p>please enter correct phone number</p>";
                return false;
            }

            let email = document.querySelector("#email").value;
            console.log(email);
            var name = document.getElementById("emailin");
            if (email == "") {
                emailin.innerHTML = "<p>please enter the email address here</p>";
                return false;
            } else if (
                !/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|.(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(
                    email
                )
            ) {
                emailin.innerHTML = "<p>please enter correct email address</p>";
                return false;
            }
            let zipcode = document.querySelector("#zipcode").value;
            console.log(zipcode);
            var name = document.getElementById("zipcodein");
            if (zipcode == "") {
                zipcodein.innerHTML = "<p>please enter the phone number here</p>";
                return false;
            } else if (!/^\d{6}$/.test(zipcode)) {
                zipcodein.innerHTML = "<p>please enter correct phone number</p>";
                return false;
            }

            var genderM = form.male;
            var genderF = form.female;
            var name = document.getElementById("genderin");
            if (genderM.checked == false && genderF.checked == false) {
                genderin.innerHTML = "<p>You must select male or female</p>";
                return false;
            }
            let address = document.querySelector("#address").value;
            console.log(address);
            var name = document.getElementById("addressin");
            if (address == "") {
                addressin.innerHTML = "<p>please enter address here</p>";
                return false;
            }
            let address2 = document.querySelector("#address2").value;
            console.log(address2);
            var name = document.getElementById("addressin2");
            if (address2 == "") {
                addressin2.innerHTML = "<p>please enter address here</p>";
                return false;
            }
            let city = document.querySelector("#city").value;
            console.log(city);
            var name = document.getElementById("cityin");
            if (city == "") {
                cityin.innerHTML = "<p>please enter city here</p>";
                return false;
            }
            // let board1in = document.querySelector("#board1").value;
            // console.log(board1);
            // var name = document.getElementById("board1in");
            // if (board1 == "") {
            //     board1in.innerHTML = "<p>please enter board here</p>";
            //     return false;
            // }

            // let board2 = document.querySelector("#board2").value;
            // console.log(board2);
            // var name = document.getElementById("board2in");
            // if (board2 == "") {
            //     board2in.innerHTML = "<p>please enter board here</p>";
            //     return false;
            // }
            // let coursename1 = document.querySelector("#coursename1").value;
            // console.log(coursename1);
            // var name = document.getElementById("coursename1in");
            // if (coursename1 == "") {
            //     coursename1in.innerHTML = "<p>please enter board here</p>";
            //     return false;
            // }
            // let coursename2 = document.querySelector("#coursename2").value;
            // console.log(coursename2);
            // var name = document.getElementById("coursename2in");
            // if (coursename2 == "") {
            //     coursename2in.innerHTML = "<p>please enter coursename here</p>";
            //     return false;
            // }
        }

        function plus() {
            var row = document.getElementsByClassName("row")[0];
            div = document.createElement("div");
            div.setAttribute("class", "referance");

            div.innerHTML += `
                           <div>
                           
                           <label for="Name">Name</label>
                           <input type="text" id="nameref" name="nameref[]">
                           <label for="Contact number">Contact number:</label>
                           <input type="text" id="Contactnumber" name="Contactnumber[]">
                           <label for="Relation">Relation</label>
                           <input type="text" id="Relation" name="Relation[]"><br>
                       </div>
                                        `;

            row.appendChild(div);
        }
        function sub() {
            console.log("hello");

            {
                row = document.getElementsByClassName("row");
                row[0].removeChild(row[0].lastElementChild);

                console.log(row);
            }
        }

        educationdetail = 2;
        function eduplus() {
            var row2 = document.getElementsByClassName("row2")[0];
            div = document.createElement("div");
            div.setAttribute("class", "educationdetail");

            div.innerHTML += `
                           <div>
                           
                            <select id="education" name="education[]">
                        <option value="SSC" name="SSC">SSC</option>
                        <option value="HSC" name="HSC">HSC</option>
                        <option value="Bachelors" name="Bachelors">Bachelors</option>
                        <option value="Masters" name="Masters">Masters</option>
                    </select>
                </td>
               <label for="board">Name of the Board</label>
                <input type="text" id="board" name="board[]" placeholder="enter board here">
                <label for="passingyear">Passing Year</label>
                <input type="date" id="passingyear" name="passingyear[]" placeholder="enter passingyear here">
                <label for="percentage">Percentage:</label>
                 <input type="text" id="percentage" name="percentage[]" placeholder="enter percentage here">
                <br><hr>
                       </div>
                                        `;
            educationdetail++;
            row2.appendChild(div);
        }
        function edusub() {
            console.log("hello");
            if (educationdetail > 2) {
                row2 = document.getElementsByClassName("row2");
                row2[0].removeChild(row2[0].lastElementChild);
                educationdetail--;
                console.log(row2);
            }
        }

        function explus() {
            var row1 = document.getElementsByClassName("row1")[0];
            div = document.createElement("div");
            div.setAttribute("class", "experience");

            div.innerHTML += `
                           <div>
                <label for="Company Name">Company Name</label>
                <input type="text" id="CompanyName" name="CompanyName">
                <label for="designation">Designation:</label>
                <input type="text" id="designation1" name="designation1">
                <label for="From">From</label>
                <input type="text" id="From1" name="From1">
                <label for="To">To</label>
                <input type="text" id="To1" name="To1">
                <br> <br>
            </div>
                                        `;

            row1.appendChild(div);
        }
        function exsub() {
            console.log("hello");

            {
                row1 = document.getElementsByClassName("row1");
                row1[0].removeChild(row1[0].lastElementChild);

                console.log(row1);
            }
        }
      
var currentsection=0;
var sec =document.getElementById('myform').getElementsByClassName('tab');
var nextbutton = document.getElementById('nextbutton');
var prevbutton = document.getElementById('prevbutton');
var save=document.getElementById('savebutton');


function next() {
    
    if(validate()){
     return true;
    }
        else{
        sec[currentsection].classList.add('hidden');
        sec[currentsection].classList.remove('visible');

        currentsection++;
        if(currentsection < sec.length){
            sec[currentsection].classList.remove('hidden');
        sec[currentsection].classList.add('visible');
        }else{
            currentsection = 0;
            sec[currentsection].classList.add('hidden');
        sec[currentsection].classList.remove('visible');
        }
        if(currentsection === (sec.length-1))
        {
            console.log("hello");
            nextbutton.style.display='none';
            save.style.display='block';
            

        }else{
            nextbutton.style.display='block';
            save.style.display='none';


        }
        if(currentsection === 0)
        {
            console.log("hello");
            prevbutton.style.display='none';
    
        }else{
            prevbutton.style.display='block';
    
        }
        fixStepIndicator(currentsection)
    }

    }


    function prev() {

        sec[currentsection].classList.add('hidden');
        sec[currentsection].classList.remove('visible');

        currentsection--;
        if(currentsection >= 0){
            sec[currentsection].classList.remove('hidden');
        sec[currentsection].classList.add('visible');
        }else{
            currentsection=sec.length-1;
            sec[currentsection].classList.remove('hidden');
        sec[currentsection].classList.add('visible');  
        }
        if(currentsection === 0)
        {
            console.log("helloprev");
            prevbutton.style.display='none';
    
        }else{
            prevbutton.style.display='block';
    
        }
        if(currentsection === (sec.length-1))
        {
            console.log("hello");
            nextbutton.style.display='none';
            save.style.display='block';


        }else{
            nextbutton.style.display='block';
            save.style.display='none';

        }
        fixStepIndicator(currentsection)
    }

    async function submitdata(){
        let formdata =document.getElementById('myform');
        let data = new FormData(formdata);
        const params = new URLSearchParams(data);
        const jobdata = await new Response(params).text();
        console.log(typeof (jobdata));
        console.log("insert data");
        let data2 = await fetch("http://localhost:3033/detailajax",{
            method:"POST",
            headers:{
                'Content-type': 'application/x-www-form-urlencoded'
            },
            body:jobdata
        })
            // document.querySelector("#detailrender").innerHTML = `click here to <a href="http://localhost:3033/listajax"> go to list all record</a>`;
            result = await data2.json();
            console.log(data2.json());
            document.getElementById("detailrender").innerHTML=result.msg+`<a href="http://localhost:3033/listajax">Update the given data</a>`;
    }

function fixStepIndicator(n) {
  // This function removes the "active" class of all steps...
  var i, x = document.getElementsByClassName("step");
  for (i = 0; i < x.length; i++) {
    x[i].className = x[i].className.replace(" active", "");
  }
  //... and adds the "active" class on the current step:
  x[n].className += " active";
}

  
    </script>
</body>

</html>